{"ast":null,"code":"import { environment } from '../../../environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nexport let OrderFormComponent = /*#__PURE__*/(() => {\n  class OrderFormComponent {\n    constructor(http) {\n      this.http = http;\n      this.selectedBean = null;\n      this.quantity = 1;\n      this.message = null;\n    }\n\n    placeOrder() {\n      if (!this.selectedBean) {\n        this.message = 'Please select a bean first.';\n        return;\n      }\n\n      if (this.quantity <= 0) {\n        this.message = 'Quantity must be at least 1.';\n        return;\n      }\n\n      const order = {\n        beanId: this.selectedBean.id,\n        quantity: this.quantity,\n        orderDate: new Date().toISOString()\n      };\n      this.http.post(`${environment.apiUrl}/orders`, order).subscribe({\n        next: () => {\n          this.message = 'Order placed successfully!';\n          this.quantity = 1;\n        },\n        error: err => {\n          console.error(err);\n          this.message = 'Failed to place order. Please try again.';\n        }\n      });\n    }\n\n  }\n\n  OrderFormComponent.ɵfac = function OrderFormComponent_Factory(t) {\n    return new (t || OrderFormComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n  };\n\n  OrderFormComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: OrderFormComponent,\n    selectors: [[\"app-order-form\"]],\n    inputs: {\n      selectedBean: \"selectedBean\"\n    },\n    decls: 19,\n    vars: 9,\n    consts: [[1, \"order-form\"], [\"type\", \"number\", \"min\", \"1\", 3, \"ngModel\", \"ngModelChange\"], [3, \"click\"]],\n    template: function OrderFormComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n        i0.ɵɵtext(2, \"Order Bean\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"p\")(4, \"strong\");\n        i0.ɵɵtext(5, \"Price:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(6);\n        i0.ɵɵpipe(7, \"currency\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"p\")(9, \"strong\");\n        i0.ɵɵtext(10, \"Quantity:\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(11, \"input\", 1);\n        i0.ɵɵlistener(\"ngModelChange\", function OrderFormComponent_Template_input_ngModelChange_11_listener($event) {\n          return ctx.quantity = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"p\")(13, \"strong\");\n        i0.ɵɵtext(14, \"Total:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(15);\n        i0.ɵɵpipe(16, \"currency\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function OrderFormComponent_Template_button_click_17_listener() {\n          return ctx.placeOrder();\n        });\n        i0.ɵɵtext(18, \"Place Order\");\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(7, 3, ctx.selectedBean == null ? null : ctx.selectedBean.cost, \"GBP\"), \"\");\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.quantity);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(16, 6, ((ctx.selectedBean == null ? null : ctx.selectedBean.cost) || 0) * ctx.quantity, \"GBP\"), \"\");\n      }\n    },\n    directives: [i2.MinValidator, i2.NumberValueAccessor, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgModel],\n    pipes: [i3.CurrencyPipe],\n    styles: [\".order-form[_ngcontent-%COMP%]{max-width:400px;margin:1rem auto;padding:1.5rem;background:#fff;border-radius:12px;box-shadow:0 2px 6px #0000001a}.order-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:1.4rem;text-align:center}.order-form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0}.order-form[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{width:100%;padding:.5rem;margin:.25rem 0 1rem;border:1px solid #ccc;border-radius:6px;font-size:1rem}.order-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:.75rem;background:#2b7a0b;color:#fff;font-size:1rem;font-weight:700;border:none;border-radius:8px;cursor:pointer;transition:background .2s ease}.order-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#256708}.order-form[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{margin-top:1rem;text-align:center;font-weight:700}\"]\n  });\n  return OrderFormComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}